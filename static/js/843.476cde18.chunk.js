"use strict";(self.webpackChunkwanted_pre_onboarding_frontend=self.webpackChunkwanted_pre_onboarding_frontend||[]).push([[843],{133:function(t,n,e){e.d(n,{B:function(){return o}});var o=e(912).Z.create({baseURL:"https://pre-onboarding-selection-task.shop/",headers:{"Content-Type":"application/json"}});o.interceptors.request.use((function(t){var n=localStorage.getItem("access_token");return n&&t.headers&&(t.headers.Authorization="Bearer ".concat(n)),t}))},745:function(t,n,e){e.d(n,{Z:function(){return d}});var o,a=e(168),r={Input:e(444).ZP.input(o||(o=(0,a.Z)(["\n    width: 100%;\n    padding: 10px;\n    box-sizing: border-box;\n    margin: 10px 0px;\n    border: none;\n    border-bottom: 2px solid #adadad;\n    font-size: 16px;\n    outline: none;\n    :focus {\n      border-bottom: 2px solid #333;\n    }\n  "])))},i=e(184),d=function(t){var n=t.InputData,e=n.type,o=n.placeholder,a=n.testId,d=n.onChange,c=n.autoComplete,u=n.defaultValue,l=n.inputRef;return(0,i.jsx)(r.Input,{"data-testid":a,type:e,placeholder:o,defaultValue:u,onChange:d,autoComplete:c,ref:l})}},524:function(t,n,e){var o=e(791),a=e(689);n.Z=function(){var t=(0,a.s0)(),n=(0,a.TH)(),e=localStorage.getItem("access_token");(0,o.useEffect)((function(){return null===e&&"/todo"===n.pathname?t("/"):null!==e&&"/todo"!==n.pathname?t("/todo"):void 0}))}},843:function(t,n,e){e.r(n),e.d(n,{default:function(){return X}});var o,a,r,i,d,c,u,l=e(168),s=e(444),p=e(524),f=e(689),x=function(t){var n=t.dir,e=void 0===n?"row":n,a=t.content,r=void 0===a?"baseline":a,i=t.items,d=void 0===i?"baseline":i;return(0,s.iv)(o||(o=(0,l.Z)(["\n  display: flex;\n  flex-direction: ",";\n  justify-content: ",";\n  align-items: ",";\n"])),e,r,d)},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"row";return(0,s.iv)(a||(a=(0,l.Z)(["\n  display: flex;\n  flex-direction: ",";\n  justify-content: center;\n  align-items: center;\n"])),t)},g={Container:s.ZP.div(r||(r=(0,l.Z)(["\n    ","\n    margin: 0px 50px;\n    padding-top: 30px;\n    padding-bottom: 20px;\n    width: 80%;\n    border-bottom: 1px solid #e5e5e5;\n  "])),x({content:"space-between",items:"center"})),Title:s.ZP.div(i||(i=(0,l.Z)(["\n    font-size: 30px;\n    font-weight: bold;\n  "]))),Button:s.ZP.button(d||(d=(0,l.Z)(["\n    ","\n    background-color: #4a4a4a;\n    color: #fff;\n    font-size: 16px;\n    font-weight: bold;\n    border: none;\n    padding: 12px;\n    border-radius: 5px;\n    :hover {\n      background-color: #616161;\n    }\n  "])),h("row"))},m=e(184),b=function(){var t=(0,f.s0)();return(0,m.jsxs)(g.Container,{children:[(0,m.jsx)(g.Title,{children:"To Do List"}),(0,m.jsx)(g.Button,{onClick:function(){localStorage.removeItem("access_token"),t("/")},children:"\ub85c\uadf8\uc544\uc6c3"})]})},y=e(439),v=e(745),C={Container:s.ZP.form(c||(c=(0,l.Z)(["\n    ","\n    width: 80%;\n    margin-top: 5px;\n  "])),h("row"))},Z={Button:s.ZP.button(u||(u=(0,l.Z)(["\n    ","\n    border: none;\n    font-size: 16px;\n    font-weight: bold;\n    padding: 10px;\n    width: 20%;\n    margin: 10px 0px 10px 5px;\n    cursor: pointer;\n    background-color: #565656;\n    color: #fff;\n    border-radius: 5px;\n    :hover {\n      background-color: #6e6e6e;\n    }\n  "])),h())},j=function(t){var n=t.ButtonData,e=n.text,o=n.testId,a=n.handleClick,r=n.data;return(0,m.jsx)(Z.Button,{"data-testid":o,onClick:function(t){return a({e:t,data:r})},children:e})},w=e(791),k=e(133),D=function(t){var n=t.id,e=t.todo,o=t.isCompleted;return k.B.put("/todos/".concat(n),{todo:e,isCompleted:o})},E=e(683),B=e(433),P=function(t,n){switch(console.log(t,n),n.type){case"GET":return(0,B.Z)(n.payload);case"CREATE":return[].concat((0,B.Z)(t),[n.payload]);case"DELETE":return t.filter((function(t){return t.id!==n.payload.id}));case"UPDATE":return t.map((function(t){return t.id===n.payload.id?(0,E.Z)({},n.payload):t}));default:return t}},R=(0,w.createContext)(""),T=(0,w.createContext)(""),I=[];function _(t){var n=(0,w.useReducer)(P,I),e=(0,y.Z)(n,2),o=e[0],a=e[1];return(0,m.jsx)(T.Provider,{value:o,children:(0,m.jsx)(R.Provider,{value:a,children:t.children})})}var z,A,M,S,L,U,V,W=function(){var t=(0,w.useContext)(R),n=(0,w.useRef)(),e=(0,w.useState)(""),o=(0,y.Z)(e,2),a=o[0],r=o[1];return(0,m.jsxs)(C.Container,{children:[(0,m.jsx)(v.Z,{InputData:{testId:"new-todo-input",type:"text",placeholder:"\ud560 \uc77c\uc744 \uc801\uc5b4\uc8fc\uc138\uc694.",defaultValue:a,onChange:function(t){r(t.target.value)},inputRef:n}}),(0,m.jsx)(j,{ButtonData:{text:"\ucd94\uac00",testId:"new-todo-add-button",handleClick:function(e){return e.e.preventDefault(),a.trim().length<=0?alert("\uacf5\ubc31\uc740 \ucd94\uac00 \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."):"string"!==typeof a?alert("\ubb38\uc790\ud615\ub9cc \ucd94\uac00\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."):void function(t){var n=t.todo;return k.B.post("/todos",{todo:n})}({todo:a}).then((function(e){n.current.value="",t({type:"CREATE",payload:e.data}),alert("\ud560 \uc77c\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")})).catch((function(t){alert("\ucd94\uac00\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \nERROR : ".concat(t.response.data.message))}))}}})]})},O={Container:s.ZP.li(z||(z=(0,l.Z)(["\n    width: 100%;\n    border-bottom: 1px solid #dbdbdb;\n  "])))},G={DisplayWrap:s.ZP.label(A||(A=(0,l.Z)(["\n    ","\n    width: 100%;\n  "])),h("row")),CheckBox:s.ZP.input(M||(M=(0,l.Z)(["\n    margin: 10px 10px 10px 0px;\n    width: 30px;\n    height: 30px;\n    accent-color: #565656;\n  "]))),TodoTitle:s.ZP.span(S||(S=(0,l.Z)(["\n    font-size: 18px;\n    font-weight: 400;\n    width: 80%;\n    margin: 10px 0px;\n  "])))},q=function(t){var n=t.todoData,e=t.modify,o=t.setModify,a=(0,w.useContext)(R);return(0,m.jsxs)(G.DisplayWrap,{style:{display:e?"none":"flex"},children:[(0,m.jsx)(G.CheckBox,{type:"checkbox",defaultChecked:n.isCompleted,onChange:function(t){return function(t){D({id:n.id,todo:n.todo,isCompleted:t.target.checked}).then((function(e){a({type:"UPDATE",payload:e.data}),t.target.checked?alert("[".concat(n.todo,"] \ub97c \uc644\ub8cc\ud588\uc2b5\ub2c8\ub2e4.")):alert("[".concat(n.todo,"] \ub97c \uc2dc\uc791\ud574\uc8fc\uc138\uc694!"))})).catch((function(e){t.target.checked=n.isCompleted,alert("\uc644\ub8cc \ucc98\ub9ac\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \nERROR : ".concat(e.response.data.message))}))}(t)}}),(0,m.jsx)(G.TodoTitle,{style:{textDecorationLine:n.isCompleted?"line-through":"none"},children:n.todo}),(0,m.jsx)(j,{ButtonData:{text:"\uc218\uc815",handleClick:function(){o(!0)},testId:"modify-button"}}),(0,m.jsx)(j,{ButtonData:{text:"\uc0ad\uc81c",handleClick:function(){(function(t){var n=t.id;return k.B.delete("/todos/".concat(n))})({id:n.id}).then((function(t){console.log(t),a({type:"DELETE",payload:{id:n.id}}),alert("\ud560 \uc77c\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")})).catch((function(t){alert("\uc0ad\uc81c \ucc98\ub9ac\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.\nERROR : ".concat(t.response.data.message))}))},testId:"delete-button"}})]})},H={ModifyWrap:s.ZP.label(L||(L=(0,l.Z)(["\n    ","\n    width: 100%;\n  "])),h("row"))},F=function(t){var n=t.todoData,e=t.modify,o=t.setModify,a=(0,w.useContext)(R),r=(0,w.useRef)(),i=(0,w.useState)(n.todo),d=(0,y.Z)(i,2),c=d[0],u=d[1];return(0,m.jsxs)(H.ModifyWrap,{style:{display:e?"flex":"none"},children:[(0,m.jsx)(v.Z,{InputData:{type:"text",testId:"modify-input",placeholder:"\ud560 \uc77c\uc744 \uc801\uc5b4\uc8fc\uc138\uc694.",onChange:function(t){u(t.target.value)},defaultValue:c,inputRef:r}}),(0,m.jsx)(j,{ButtonData:{text:"\uc81c\ucd9c",testId:"submit-button",handleClick:function(){D({id:n.id,todo:c,isCompleted:n.isCompleted}).then((function(t){a({type:"UPDATE",payload:t.data}),o(!1),alert("\ud560 \uc77c\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")})).catch((function(){o(!1),r.current.value=n.todo,alert("\ud560 \uc77c \uc218\uc815\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))}}}),(0,m.jsx)(j,{ButtonData:{text:"\ucde8\uc18c",testId:"cancel-button",handleClick:function(){r.current.value=n.todo,o(!1)}}})]})},J=function(t){var n=t.todoData,e=(0,w.useState)(!1),o=(0,y.Z)(e,2),a=o[0],r=o[1];return(0,m.jsxs)(O.Container,{children:[(0,m.jsx)(q,{todoData:n,modify:a,setModify:r}),(0,m.jsx)(F,{todoData:n,modify:a,setModify:r})]})},K={Container:s.ZP.ul(U||(U=(0,l.Z)(["\n    ","\n    width: 80%;\n    height: 100%;\n    margin-bottom: 30px;\n    overflow: auto;\n  "])),x({dir:"column",content:"flex-start",items:"center"}))},N=function(){var t=(0,w.useContext)(T),n=(0,w.useContext)(R);return(0,w.useEffect)((function(){k.B.get("/todos").then((function(t){n({type:"GET",payload:t.data})})).catch((function(t){console.log(t)}))}),[n]),(0,m.jsx)(K.Container,{children:t&&t.map((function(t){return(0,m.jsx)(J,{todoData:t},t.id)}))})},Q=s.ZP.div(V||(V=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  width: 500px;\n  height: 700px;\n  margin: 50px auto;\n  box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.2);\n  border-radius: 20px;\n"]))),X=function(){return(0,p.Z)(),(0,m.jsxs)(Q,{children:[(0,m.jsx)(b,{}),(0,m.jsxs)(_,{children:[(0,m.jsx)(W,{}),(0,m.jsx)(N,{})]})]})}}}]);
//# sourceMappingURL=843.476cde18.chunk.js.map